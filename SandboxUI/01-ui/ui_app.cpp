/**
******************************************************************************
* @file    ui_app.cpp
* @author  ARTHUR
* @version V1
* @date    2025-08-20 11:26:55
* @brief   UI applications e.g. button callbacks
*
*
******************************************************************************
* @attention
*
*
******************************************************************************
*/

/*******************************************************************************
************************************ Includes **********************************
*******************************************************************************/
#include <stdint.h> //to use int32_t type
#include <windows.h> //to use HWND
#include <stdio.h> //use sprintf()

#include "00-app/top.h"
#include "ui.h" //to use ui datatype
#include "ui_logbox.h" //use ui_printf()

/*******************************************************************************
******************************** Private typedef *******************************
*******************************************************************************/

/*******************************************************************************
******************************** Private define ********************************
*******************************************************************************/

/*******************************************************************************
********************************* Private macro ********************************
*******************************************************************************/

/*******************************************************************************
******************************* Private variables ******************************
*******************************************************************************/
extern UI_INPUT_STRU ui_input;

/*******************************************************************************
************************** Private function prototypes *************************
*******************************************************************************/

/*******************************************************************************
******************************* Private functions ******************************
*******************************************************************************/

/*******************************************************************************
******************************* Public Variables *******************************
*******************************************************************************/

/*******************************************************************************
******************************* Public functions *******************************
*******************************************************************************/


/*******************************************************************************
 * @brief  Brief_description_of_the_function
 * @param  ui_input, from ui.cpp
 * @param  CORE_IO_INPUT_NUM, from ui.h
 * @return xxxx
 *******************************************************************************/
void on_click_show_io_list(void) {
#define BUFFER_SIZE 1000
    char buf[BUFFER_SIZE] = "Showing IO list:";
    // show all io pins status in logbox
    for (int i = 0; i < CORE_IO_INPUT_NUM; i++) {
        char temp[16] = "";
        if (ui_input.pin[i].value != 0) {
            sprintf_s(temp, "%d", i);
            strncat_s(buf, BUFFER_SIZE, temp, 16);
        }


        if ((i % 10) == 0) { // Add newline for every 4 up/down/car elements and not at end
            strncat_s(buf, BUFFER_SIZE, "\r\n", 2);
        }
        else {
            strncat_s(buf, BUFFER_SIZE, ", ", 2);
        }
    }
    ui_internal_printf("%s", buf);
}
        

/********************************* end of file ********************************/

