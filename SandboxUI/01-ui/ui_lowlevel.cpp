/**
******************************************************************************
* @file    ui_lowlevel.cpp
* @author  ARTHUR
* @version V1
* @date    2025-08-07 11:02:12
* @brief   low level function for ui module, elevator irrelavent
*
*
******************************************************************************
* @attention
*
*
******************************************************************************
*/

/*******************************************************************************
************************************ Includes **********************************
*******************************************************************************/

#include <Windows.h>
//#include "ui_lowlevel.h"

/*******************************************************************************
******************************** Private typedef *******************************
*******************************************************************************/

/*******************************************************************************
******************************** Private define ********************************
*******************************************************************************/
#define UI_FONT_9PT 9   // for text, menu, logbox
#define UI_FONT_12PT 12 // for title bars, taskbars,

/*******************************************************************************
********************************* Private macro ********************************
*******************************************************************************/

/*******************************************************************************
******************************* Private variables ******************************
*******************************************************************************/

/*******************************************************************************
************************** Private function prototypes *************************
*******************************************************************************/

/*******************************************************************************
******************************* Private functions ******************************
*******************************************************************************/


/*******************************************************************************
******************************* Public Variables *******************************
*******************************************************************************/

/*******************************************************************************
******************************* Public functions *******************************
*******************************************************************************/


/*******************************************************************************
 * @brief  Brief_description_of_the_function
 * @param  hwndTarget, the window you want to apply the font, any window control
 * @param  pt, the font size, usually 9 or 12 in win11
 * @return xxxx
 *******************************************************************************/
void ui10_apply_font_to_control(HWND hwndTarget, int pt) {
    int height; //negative value, -12=~9pt in my computer
    height = -MulDiv(pt, GetDeviceCaps(GetDC(NULL), LOGPIXELSY), 72);
    HFONT hf = CreateFont(
        height, 
        0, 0, 0, FW_NORMAL, // width, escapement, orientation, weight
        FALSE, FALSE, FALSE, // italic, underline, strikeout
        DEFAULT_CHARSET,
        OUT_DEFAULT_PRECIS,
        CLIP_DEFAULT_PRECIS,
        CLEARTYPE_QUALITY,
        DEFAULT_PITCH | FF_DONTCARE,
        L"Segoe UI");

    if (hf && hwndTarget) {
        SendMessage(hwndTarget, WM_SETFONT, (WPARAM)hf, TRUE);
    }
}



/*******************************************************************************
 * @brief  creat 9pt lable in a location, (x,y,w,h), solid border
 * @param  hwnd, parent windows
 * @return xxxx
 *******************************************************************************/
void ui11_create_label(HWND hwnd, const wchar_t* text, int x, int y, int w, int h) {
    // create label, 12pt
    HWND hStaticLabel = CreateWindow(L"STATIC", text, WS_CHILD | WS_BORDER | WS_VISIBLE,
        x, y, w, h, hwnd, NULL, NULL, NULL);

    ui10_apply_font_to_control(hStaticLabel, UI_FONT_9PT);
}

/********************************* end of file ********************************/

