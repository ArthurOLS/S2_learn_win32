/**
********************************************************************************
* @file    top_core_constants.h
* @author  Arthur
* @version V1.0
* @date    2025-08-20 17:09:25
* @brief   Public functions and datatypes from this function
*
*  
********************************************************************************
* @attention
*
*
********************************************************************************
*/
/*******************************************************************************
********************* Define to prevent recursive inclusion ********************
*******************************************************************************/
#ifndef __TOP_CORE_CONSTANTS_H
#define __TOP_CORE_CONSTANTS_H
/*******************************************************************************
************************************ Includes **********************************
*******************************************************************************/
#include <stdint.h>

/*******************************************************************************
********************************* Exported macro *******************************
*******************************************************************************/

/*******************************************************************************
********************************* Exported types *******************************
*******************************************************************************/

/*******************************************************************************
******************************* Exported constants *****************************
*******************************************************************************/

/*******************************************************************************
*********************************  General       *******************************
*******************************************************************************/



/*******************************************************************************
*********************************  Core States *********************************
*******************************************************************************/


typedef enum {
    LV1_STATE_IDLE = 0,
    LV1_STATE_SERVICE_DOWN,
    LV1_STATE_SERVICE_UP,

} FSM_LV1_STATE_ENUM;

typedef enum {
    LV2_INIT = 0,
    LV2_SWITCH_DELAY,
    LV2_MANUAL_MODE,
    LV2_AUTO_MODE,

} FSM_LV2_STATE_ENUM;

typedef enum {
    LV3_IDLE_STOPPED = 0,
    LV3_IDLE_HOMING,
    LV3_MOVING_X,
    LV3_PICK_DROP,

} FSM_LV3_STATE_ENUM;



typedef enum {
    LV4_STATE_INIT = 0,
    LV4_STATE_GOTO_SERVICE_START,
    LV4_STATE_AT_SERVICE_START,
    LV4_STATE_GO_ON_SERVICE,
    LV4_STATE_EXIT,

} FSM_LV4_STATE_ENUM;


// door states
typedef enum {
    LV3_DOOR_STEP_WAIT1 = 0,
    LV3_DOOR_STEP_OPENING,
    LV3_DOOR_STEP_HOLDING,
    LV3_DOOR_STEP_CLOSING,
    LV3_DOOR_STEP_CLOSE_CONFIRMED,
} FSM_LV3_DOOR_PROCEDURE_ENUM;


/*******************************************************************************
*************************** Exported global variables **************************
*******************************************************************************/

/*******************************************************************************
******************************* Exported functions *****************************
*******************************************************************************/

#ifdef __cplusplus
extern "C" {
#endif

const char* fsm_lv1_get_state_string(int32_t state);
const char* core_interface_get_lv2_state_string(int32_t state);
const char* fsm_lv3_get_state_string(int32_t state);
const char* fsm_lv4_get_state_string(int32_t state);

// door state
const char* lv3_get_door_state_name(int32_t step);


#ifdef __cplusplus
}
#endif

#endif /* __TOP_CORE_CONSTANTS_H */
/********************************* end of file ********************************/

